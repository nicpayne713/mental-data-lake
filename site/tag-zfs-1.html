<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="./static/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />
    <meta name="generator" content="Marmite" />
    
    
    <meta property="og:title" content="Pype.dev">
    <meta property="og:description" content="my mental data-lake">
    
    
    <meta property="og:url" content="https://pype.dev">
    
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Pype.dev">
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Pype.dev",
      "url": "https://pype.dev"
    }
</script>
    <title>Posts tagged with 'zfs' - 1 | Pype.dev</title>
    <link rel="stylesheet" type="text/css" href="./static/pico.min.css">
    <link rel="stylesheet" type="text/css" href="./static/marmite.css">
    
    <link rel="stylesheet" type="text/css" href="./static/colorschemes/nord.css">
    
    <link rel="stylesheet" type="text/css" href="./static/custom.css">
    
    <link rel="alternate" type="application/rss+xml" title="index" href="index.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: tech" href="tag-tech.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: homelab" href="tag-homelab.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: linux" href="tag-linux.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: bema" href="tag-bema.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: python" href="tag-python.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: cli" href="tag-cli.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: faith" href="tag-faith.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: bible-project" href="tag-bible-project.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: vim" href="tag-vim.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: zfs" href="tag-zfs.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: til" href="tag-til.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: bash" href="tag-bash.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: git" href="tag-git.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: blog" href="tag-blog.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: data" href="tag-data.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: webdev" href="tag-webdev.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: terminal" href="tag-terminal.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: homepage" href="tag-homepage.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: olivet" href="tag-olivet.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: infrastructure" href="tag-infrastructure.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: books" href="tag-books.rss">
    <link rel="alternate" type="application/rss+xml" title="author: nicpayne" href="author-nicpayne.rss">
    <link rel="alternate" type="application/rss+xml" title="year: 2024" href="archive-2024.rss">
    <link rel="alternate" type="application/rss+xml" title="year: 2023" href="archive-2023.rss">
    <link rel="alternate" type="application/rss+xml" title="year: 2022" href="archive-2022.rss">
    

    
    <link rel="alternate" type="application/feed+json" title="JSON index" href="index.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: tech" href="tag-tech.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: homelab" href="tag-homelab.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: linux" href="tag-linux.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: bema" href="tag-bema.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: python" href="tag-python.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: cli" href="tag-cli.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: faith" href="tag-faith.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: bible-project" href="tag-bible-project.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: vim" href="tag-vim.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: zfs" href="tag-zfs.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: til" href="tag-til.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: bash" href="tag-bash.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: git" href="tag-git.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: blog" href="tag-blog.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: data" href="tag-data.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: webdev" href="tag-webdev.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: terminal" href="tag-terminal.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: homepage" href="tag-homepage.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: olivet" href="tag-olivet.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: infrastructure" href="tag-infrastructure.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: books" href="tag-books.json">
    <link rel="alternate" type="application/feed+json" title="JSON author: nicpayne" href="author-nicpayne.json">
    <link rel="alternate" type="application/feed+json" title="JSON year: 2024" href="archive-2024.json">
    <link rel="alternate" type="application/feed+json" title="JSON year: 2023" href="archive-2023.json">
    <link rel="alternate" type="application/feed+json" title="JSON year: 2022" href="archive-2022.json">
    
    
    
    
</head>
<body>
    
    <div class="container-fluid announcement-wrapper">
        <div class="announcement"><p>Give us a â˜† on <a href="https://github.com/rochacbruno/marmite">github</a></p>
</div>
    </div>
    
    <main class="container">
        
        <header class="header-content">
            <nav class="header-nav">
                <ul class="header-name">
                    <li>
                        <hgroup>
                            <h2><a href="./" class="contrast">Pype.dev</a></h2>
                             <p>my mental data-lake</p> 
                        </hgroup>
                    </li>
                </ul>
                <button id="menu-toggle" class="hamburger">&#9776;</button>
                
                <ul class="header-menu" id="header-menu">
                    
                      
                      
                    <li>
                        
                        <a class="menu-item secondary"  href="./archive.html">Archive</a>
                        
                    </li>
                    
                      
                      
                    <li>
                        
                        <a class="menu-item secondary"  href="./tags.html">Tags</a>
                        
                    </li>
                    
                      
                      
                    <li>
                        
                        <a class="menu-item secondary"  href="https://github.com/pypeaday/pype.dev" target="_blank" >Github</a>
                        
                    </li>
                    
                    <li><span class="theme-toggle secondary" title="dark mode">&#9789;</span></li>
                    
                    <li><a href="#" id="search-toggle" class="secondary" title="Search (Ctrl + Shift + F)"> <span class="search-txt">Search</span><span class="search-magnifier"></span></a></li>
                    
                    <div class="underline"></div>
                </ul>
            </nav>
            
            <div class="marmite-background-overlay" id="overlay-close"></div>
            <div class="marmite-search-bar hidden">
                <span>Search</span>
                <button class="marmite-close-button" id="search-close">X</button>
                <input placeholder="Search" id="marmite-search-input" />
                <div class="marmite-search-bar-result">
                    <ul id="marmite-search-bar-result"></ul>
                </div>
            </div>
            
        </header>
        
        <section class="main-content">
            


<div class="list-title">
    <article><strong> Posts tagged with 'zfs' - 1 </strong></article>
</div>





<div class="content-list ">
    <div class="left">
    <article class="content-list-item">
        <div class="content-title-wrapper">
            <h2 class="content-title"><a href="./lsof-to-find-what-s-using-your-filesystem.html">Lsof to find what's using your filesystem</a></h2>
             
        </div>
        <p class="content-excerpt">
            
            
lsof | grep /tank/nas shows me what is using my nas at any time!


            <a class="secondary" href="./lsof-to-find-what-s-using-your-filesystem.html">read more &rarr;</a>
        </p>
        <footer class="data-tags-footer">
            <span class="content-date"><a class="secondary" href="./lsof-to-find-what-s-using-your-filesystem.html">Apr  9, 2023</a></span>
            <ul class="content-tags overflow-auto">
                <li><a href="./tag-zfs.html">zfs</a></li><li><a href="./tag-homelab.html">homelab</a></li><li><a href="./tag-tech.html">tech</a></li>
            </ul>
        </footer>
    </article>
    <article class="content-list-item">
        <div class="content-title-wrapper">
            <h2 class="content-title"><a href="./systemd-timer-for-syncoid.html">Systemd timer for syncoid</a></h2>
             
        </div>
        <p class="content-excerpt">
            
            
I have a bash script called syncoid-job which boils down to a barebones -
#!/bin/bash

syncoid --no-sync-snap --sendoptions=w --no-privilege-elevation $SYNOIC_USER@$SERVER:tank/encrypted/nas tank/encrypted/nas

I want to run this script hourly but a ...
            <a class="secondary" href="./systemd-timer-for-syncoid.html">read more &rarr;</a>
        </p>
        <footer class="data-tags-footer">
            <span class="content-date"><a class="secondary" href="./systemd-timer-for-syncoid.html">Dec 21, 2022</a></span>
            <ul class="content-tags overflow-auto">
                <li><a href="./tag-zfs.html">zfs</a></li><li><a href="./tag-homelab.html">homelab</a></li><li><a href="./tag-tech.html">tech</a></li>
            </ul>
        </footer>
    </article>
    <article class="content-list-item">
        <div class="content-title-wrapper">
            <h2 class="content-title"><a href="./limit-zfs-list-to-avoid-docker-vomit.html">Limit zfs list to avoid docker vomit</a></h2>
             
        </div>
        <p class="content-excerpt">
            
            
zfs list has a flag -r, but if you use zfs driver for docker then you'll get
flooded with every docker volume in the world. zfs list -r -d N will limit the
dept of the print out, so zfs list -r -d 2 gives me tank, tank/encrypted,
tank/encrypted/dock ...
            <a class="secondary" href="./limit-zfs-list-to-avoid-docker-vomit.html">read more &rarr;</a>
        </p>
        <footer class="data-tags-footer">
            <span class="content-date"><a class="secondary" href="./limit-zfs-list-to-avoid-docker-vomit.html">Oct 20, 2022</a></span>
            <ul class="content-tags overflow-auto">
                <li><a href="./tag-zfs.html">zfs</a></li><li><a href="./tag-cli.html">cli</a></li><li><a href="./tag-tech.html">tech</a></li>
            </ul>
        </footer>
    </article>
    <article class="content-list-item">
        <div class="content-title-wrapper">
            <h2 class="content-title"><a href="./quick-setup-of-zfs-encrytped-datasets-with-sane-permissions.html">Quick setup of zfs encrytped datasets with sane permissions</a></h2>
             
        </div>
        <p class="content-excerpt">
            
            
Assuming you have a pool called tank...
And assuming you have an encrypted dataset (See Jim Saltar's short
intro)

Create a group for permissions - in my case I have one called home
Then if there's anything in /tank/encrypted his it with chgrp -R ho ...
            <a class="secondary" href="./quick-setup-of-zfs-encrytped-datasets-with-sane-permissions.html">read more &rarr;</a>
        </p>
        <footer class="data-tags-footer">
            <span class="content-date"><a class="secondary" href="./quick-setup-of-zfs-encrytped-datasets-with-sane-permissions.html">Oct  6, 2022</a></span>
            <ul class="content-tags overflow-auto">
                <li><a href="./tag-zfs.html">zfs</a></li><li><a href="./tag-homelab.html">homelab</a></li><li><a href="./tag-tech.html">tech</a></li>
            </ul>
        </footer>
    </article>
    <article class="content-list-item">
        <div class="content-title-wrapper">
            <h2 class="content-title"><a href="./benchmark-your-disks-with-fio.html">Benchmark your disks with fio</a></h2>
             
        </div>
        <p class="content-excerpt">
            
            
Intro
I use ZFS at home in my homelab for basically all of my storage... Docker uses
ZFS backend, all my VMs have their .qcow2 images in their own zfs datasets,
and all my shares are ZFS datasets. I love ZFS but my home hardware presently
is the opp ...
            <a class="secondary" href="./benchmark-your-disks-with-fio.html">read more &rarr;</a>
        </p>
        <footer class="data-tags-footer">
            <span class="content-date"><a class="secondary" href="./benchmark-your-disks-with-fio.html">Aug 27, 2022</a></span>
            <ul class="content-tags overflow-auto">
                <li><a href="./tag-python.html">python</a></li><li><a href="./tag-zfs.html">zfs</a></li><li><a href="./tag-tech.html">tech</a></li>
            </ul>
        </footer>
    </article>
    <article class="content-list-item">
        <div class="content-title-wrapper">
            <h2 class="content-title"><a href="./zfs-permissions-for-sanoid-syncoid.html">Zfs permissions for sanoid/syncoid</a></h2>
             
        </div>
        <p class="content-excerpt">
            
            
zfs allow -u user clone,load-key,create,destroy,mount,mountpoint,receive,send,rollback,compression,snapshot,hold tank

load-key only needed if using encrypted datasets



            <a class="secondary" href="./zfs-permissions-for-sanoid-syncoid.html">read more &rarr;</a>
        </p>
        <footer class="data-tags-footer">
            <span class="content-date"><a class="secondary" href="./zfs-permissions-for-sanoid-syncoid.html">Jul  8, 2022</a></span>
            <ul class="content-tags overflow-auto">
                <li><a href="./tag-zfs.html">zfs</a></li><li><a href="./tag-homelab.html">homelab</a></li><li><a href="./tag-tech.html">tech</a></li>
            </ul>
        </footer>
    </article>
    <article class="content-list-item">
        <div class="content-title-wrapper">
            <h2 class="content-title"><a href="./self-hosted-docker-registry-with-proxy-pull-through.html">Self-hosted docker registry with proxy pull through</a></h2>
             
        </div>
        <p class="content-excerpt">
            
            
I decided that I want to self-host all my docker images for the purposes of
regularly rebuilding and security scanning. The first step is to set up a
registry, which coincidently enough you can do with a Docker container ðŸ˜›!
Instructions for setting  ...
            <a class="secondary" href="./self-hosted-docker-registry-with-proxy-pull-through.html">read more &rarr;</a>
        </p>
        <footer class="data-tags-footer">
            <span class="content-date"><a class="secondary" href="./self-hosted-docker-registry-with-proxy-pull-through.html">Jul  6, 2022</a></span>
            <ul class="content-tags overflow-auto">
                <li><a href="./tag-homelab.html">homelab</a></li><li><a href="./tag-zfs.html">zfs</a></li><li><a href="./tag-tech.html">tech</a></li>
            </ul>
        </footer>
    </article>
    <article class="content-list-item">
        <div class="content-title-wrapper">
            <h2 class="content-title"><a href="./how-i-use-nextcloud-for-safe-central-storage.html">How i use nextcloud for safe central storage</a></h2>
             
        </div>
        <p class="content-excerpt">
            
            

Setup admin
External Storage extension
Add my nas zfs dataset
chown -R www-data:www-data on anything nextcloud uploads to.



            <a class="secondary" href="./how-i-use-nextcloud-for-safe-central-storage.html">read more &rarr;</a>
        </p>
        <footer class="data-tags-footer">
            <span class="content-date"><a class="secondary" href="./how-i-use-nextcloud-for-safe-central-storage.html">May 19, 2022</a></span>
            <ul class="content-tags overflow-auto">
                <li><a href="./tag-homelab.html">homelab</a></li><li><a href="./tag-zfs.html">zfs</a></li><li><a href="./tag-tech.html">tech</a></li>
            </ul>
        </footer>
    </article>
    <article class="content-list-item">
        <div class="content-title-wrapper">
            <h2 class="content-title"><a href="./nextcloud-permissions-with-zfs-and-ansible-nas.html">Nextcloud permissions with zfs and ansible-nas</a></h2>
             
        </div>
        <p class="content-excerpt">
            
            
TL;DR
As the nextcloud docs say... if you want to write to an external volume that
location has to be writeable by the user/group www-data on the host system...
so if that makes sense to you then this TIL probably isn't a ton of value.. if
not howev ...
            <a class="secondary" href="./nextcloud-permissions-with-zfs-and-ansible-nas.html">read more &rarr;</a>
        </p>
        <footer class="data-tags-footer">
            <span class="content-date"><a class="secondary" href="./nextcloud-permissions-with-zfs-and-ansible-nas.html">May 19, 2022</a></span>
            <ul class="content-tags overflow-auto">
                <li><a href="./tag-homelab.html">homelab</a></li><li><a href="./tag-zfs.html">zfs</a></li><li><a href="./tag-tech.html">tech</a></li>
            </ul>
        </footer>
    </article>
    <article class="content-list-item">
        <div class="content-title-wrapper">
            <h2 class="content-title"><a href="./see-zfs-snapshot-disk-usage.html">See zfs snapshot disk usage</a></h2>
             
        </div>
        <p class="content-excerpt">
            
            
As I was cleaning up my NAS recently I noticed that I ran out of storage even
though my disk usage looked pretty low... turns out I was keeping a mega-ton of
ZFS snapshots and due to my own ignorance at the time didn't realize the
storage cost of th ...
            <a class="secondary" href="./see-zfs-snapshot-disk-usage.html">read more &rarr;</a>
        </p>
        <footer class="data-tags-footer">
            <span class="content-date"><a class="secondary" href="./see-zfs-snapshot-disk-usage.html">May 19, 2022</a></span>
            <ul class="content-tags overflow-auto">
                <li><a href="./tag-zfs.html">zfs</a></li><li><a href="./tag-homelab.html">homelab</a></li><li><a href="./tag-tech.html">tech</a></li>
            </ul>
        </footer>
    </article>
    
    <div class="pagination">
    <nav>
        <ul>
        
        </ul>
        <ul>
            <li><small>1/2</small></li>
        </ul>
        <ul>
        
            <li><a href="tag-zfs-2.html"><strong>&rarr;</strong></a></li>
        
        </ul>
    </nav>
</div>

    
    </div>
</div>

        </section>
        
        <footer class="footer-content grid">
            <div>Powered by <a href="https://github.com/rochacbruno/marmite">Marmite</a> | <small><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC-BY_NC-SA</a></small></div>
            
        </footer>
        
    </main>
    <script src="./static/marmite.js"></script>
    <script src="./static/custom.js"></script>
    
    <script type="module" src="./static/search.js"></script>
    
    
    
</body>
</html>
